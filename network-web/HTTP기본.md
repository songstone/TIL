# HTTP 프로토콜

## 간단한 프로토콜 HTTP
- HTTP는 클라이언트와 서버 간에 통신
    - 리소스를 요구 -> 클라이언트
    - 리소스 제공 -> 서버
    - Http를 사용하여 통신하는 경우 반드시 하나는 서버, 하나는 클라이언트
    - 경우에 따라서 클라이언트와 서버가 바뀌는 경우도 있다.
- Request와 Response를 교환하여 성립
    - 클라이언트로부터 리퀘스트 송신 -> 서버가 리스폰스 송신
    - 클라이언트의 요청으로부터 통신 시작
    - 서버 측은 리퀘스트가 없으면 리스폰스를 송신하는 일이 없다.
- 상태를 유지하지 않는 프로토콜
    - HTTP는 stateless 프로토콜
    - 리퀘스트와 리스폰스를 교환하는 도중에 상태를 저장하지 않는다.
    - 새로운 리퀘스트가 있을 때 마다 새로운 리스폰스 생성
    - 쿠키(Cookie) 등장 배경 -> 상태 저장의 필요성 ex) 로그인 상태 유지
- 리퀘스트 URI를 통해 리소스 식별
    - 임의의 인터넷 상의 리소스를 호출 가능
    - 리퀘스트안에 리퀘스트 URI가 포함되어야 한다.
    ```
    GET http://happymoment.com/index.html HTTP/1.1
    ```
    ```
    GET /index.html HTTP/1.1
    Host: happymoment.com
    ```
- HTTP 메서드
    - GET : 리소스 획득
    - POST : 엔티티 전송
    - PUT : 파일 전송
    - HEAD : 메시지 헤더 취득
    - DELETE : 파일 삭제
    - OPTIONS : 제공하고있는 메소드 문의
    - TRACE : 경로 조사
    - CONNECT : 프로식에 터널링 요구
- GET과 POST의 차이
    - 둘 다 HTTP 프로토콜을 이용해서 서버에 무엇인가를 요청할 때 사용
    - GET
        - 요청하는 데이터가 HTTP Request Message의 Header 부분에 url이 담겨서 전송
        - '?' 뒤에 쿼리스트링 형태로 담겨서 전송
        - 데이터가 url상 그대로 노출, 크기가 제한적
        - GET 방식의 요청은 브라우저에서 Caching 가능
    - POST
        - HTTP Request Message의 Body 부분에 데이터가 담겨서 전송
        - 데이터 전송 크기가 GET 방식보다 크고 보안면에서 낫다.
- 지속 연결
    - 초기 TCP 연결 후 종료 전까지 지속 연결
    - HTTP/1.1의 표준 동작
- 파이프라인화
    - 여러 리퀘스트를 파이프라인화 해서 전송 가능
    - 리스폰스를 수신하기까지 기다리지 않고 다음 리퀘스트 전송 가능
- 쿠키를 사용한 상태관리
    - 리스폰스와 리퀘스트에 쿠키 정보를 추가해서 상태관리
    - 서버에서 보내준 Set-Cookie 헤더 필드에 의해 클라이언트에 쿠키 보존
    - 다음번에 클라이언트가 서버로 리퀘스트를 보낼 때 자동으로 쿠키 값을 넣어서 송신
